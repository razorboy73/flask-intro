{% extends "base.html" %}

{% block content %}
{% for course in courses %}
<div class="container marketing">
<hr class="featurette-divider">

      <div class="row featurette">
        <div class="col-md-7">
          <h2 class="featurette-heading">Course Name: {{ course.course_name }}</h2>

          <p>Max Number of Students: {{ course.max_number_students}}</p>
          <p>Spaces Left:  {{ course.spaces_left }}</p>
          <p>Target Age Group: {{ course.age_range }} years old. </p>
          <p>Remaining Space: {{ course.spaces_left }}</p>
          <p>Course Description: {{ course.course_description }}</p>
          <p>Course Location: {{ course.course_location }}</p>
          <p>Start Date: {{ course.start_date.strftime('%b %d, %Y') }}</p>
          <p>End Date: {{ course.end_date.strftime('%b %d, %Y') }}</p>
          <p>Start Time: {{ course.start_time.strftime('%I:%M %p') }}</p>
          <p>End Time: {{ course.end_time.strftime('%I:%M %p') }}</p>
          <p >Course Price: {{format_price_dollars(course.price)}}</p>

          {% if course.spaces_left > 0 %}
            <form action="{{ url_for('buy.buy')}}" method="POST">
             <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
              data-key={{key}}
              data-amount= {{format_price(course.price)}}
              data-name="Location: {{ course.course_location }}"
              data-label= "Register for: {{course.course_name}}"
              data-description="Start Date: {{course.start_date.strftime('%b %d, %Y')}}">
             </script>
             {% else %}
             <button class="btn btn-primary"> No More Space</button>
             {% endif %}
            <input type="hidden" name="course_id" value="{{course.id}}" />
            </form>
          </div>
        <div class="col-md-5">
          <img class="featurette-image img-responsive center-block" data-src="holder.js/500x500/auto"
          src ="../static/images/kids-computer.jpg"
          alt="Generic placeholder image">
        </div>
      </div>

</div>

{% endfor %}

{% endblock %}


